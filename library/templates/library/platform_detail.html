{% extends "base.html" %}

{% load static %}
{% load crispy_forms_tags %}

{% block content %}
<div class="container pd-container" data-platformcolor="{{ platform.box_color }}" data-platformfontcolor="{{ platform.font_color }}">
    <div class="text-center">
    {% if platform.image %}
    <img src="{{ platform.image.url }}" alt="{{ platform.name }} Image" class="img-fluid pd-platform-image mb-4">
    {% endif %}
    <h2 class="mb-4">{{ platform.name }} Games</h2>
    </div>

    <h3>Platform Attributes</h3>
    <h2>{{ coder }}</h2>
    <p>Category: {{ platform.category }}</p>

    {% if platform.category == 'pc' %}
        <p>RAM: {{ platform.ram }}</p>
        <p>GPU: {{ platform.gpu }}</p>
        <p>Disk Size: {{ platform.disk_size }}</p>
    {% elif platform.category == 'service' %}
        <p>Subscription Fee: ${{ platform.subscription_fee }}</p>
        <p>Plan: {{ platform.plan }}</p>
    {% endif %}
    <!-- Add more platform attributes as needed -->
</div>

<h3 class="mt-4 mb-3 pd-games-header">Games Played</h3>
<div class="row justify-content-center pd-games-container">
    {% for game in games %}
        <div class="col-lg-3 col-md-4 col-sm-6 col-12 mb-4">
            <img src="{{ game.image.url }}" alt="{{ game.name }} Image" class="img-fluid pd-game-image">
        </div>
    {% endfor %}
</div>

<div class="text-center">
    <a href="{% url 'edit_platform' platform.slug platform.id%}" class="btn btn-primary">Edit</a>
</div>

<div class="text-center white-text">
    <button class="btn btn-delete btn-danger white-text" data-platformid="{{ platform.id }}" id="deleteButton">Delete</button>
 </div>

 <!-- Delete confirmation modal -->
<div class="modal fade" id="deleteModal" tabindex="-1" aria-labelledby="deleteModalLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title black-text" id="deleteModalLabel">Delete platform?</h5>
          <button type="button" class="btn-close" data-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body black-text">
          Are you sure you want to delete this platform? This action cannot be undone. 
        </div>
        <div class="modal-footer">
          <button type="button" class="btn  btn-secondary" data-bs-dismiss="modal">Close</button>
          <a id="deleteConfirm" href="#" class="btn btn-danger">Delete</a>
        </div>
      </div>
    </div>
  </div>


  {% endblock %}